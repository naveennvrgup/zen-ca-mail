{"version":3,"sources":["admin/email/file_upload.js","admin/email/new_mail.js"],"names":["FileUpload","axios","faxios","state","files","componentDidMount","fi","_this","props","initialFiles","console","log","map","ele","id","url","file","progess","name","split","pop","saved","setState","Object","objectSpread","selectFilesHandler","e","preventDefault","document","createElement","type","multiple","click","addEventListener","currFiles","toConsumableArray","_loop","i","flag","forEach","push","progress","length","uploadFileHandler","data","FormData","request","XMLHttpRequest","append","draftId","res","target","response","item","upload","loaded","total","filter","responseType","open","burl","setRequestHeader","sessionStorage","send","deleteFileHandler","delete","concat","then","d","abort","_this2","this","react_default","a","className","action","onClick","file_link","href","rel","key","style","width","Component","NewMail","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","subject","querySelector","match","params","localStorage","setItem","get","html2Draft","body","value","onEditorStateChange","editorState","draft2Html","draftToHtml","convertToRaw","getCurrentContent","html","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","EditorState","createWithContent","saveDraftHandler","sendMail","put","history","sendMailHandler","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","_x","apply","arguments","deleteDraftHandler","status","htmlFor","dist_react_draft_wysiwyg","file_upload_FileUpload"],"mappings":"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","file":"static/js/4.f1112a5c.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport faxios, { burl } from '../../axios'; \n\nexport default class FileUpload extends Component {\n    axios = faxios()\n    state = {\n        files: [] // list of files to be uploaded\n    }\n\n    componentDidMount = () => {\n        \n        let fi = this.props.initialFiles\n        console.log(fi)\n\n        fi = fi.map(ele => ({\n            id: ele.id,\n            url: ele.file,\n            progess: '100%',\n            name: ele.file.split('/').pop(),\n            saved: true\n        }))\n\n        this.setState({\n            ...this.state,\n            files: fi\n        })\n\n    }\n\n    selectFilesHandler = e => {\n        e.preventDefault()\n\n        let fi = document.createElement('input')\n        fi.type = 'file'\n        fi.multiple = true\n        fi.click() // get the files\n\n        fi.addEventListener('change', e => {\n            let currFiles = [...this.state.files] // stores files details in the required format\n\n            for (let i = 0; i < fi.files.length; i++) {\n                let file = fi.files[i]\n                let flag = true\n\n                // this is remove duplicates \n                currFiles.forEach(ele => {\n                    if (ele.name === file.name) {\n                        flag = false\n                    }\n                })\n\n                // this is remove duplicates \n                if (flag) {\n                    currFiles.push({\n                        file: file,\n                        name: file.name,\n                        progress: 0,\n                    })\n                }\n            }\n\n            this.setState({\n                ...this.state,\n                files: currFiles\n            })\n        })\n    }\n\n    uploadFileHandler = (e, ele) => {\n        e.preventDefault()\n\n        var data = new FormData();\n        var request = new XMLHttpRequest();\n\n        data.append('file', ele.file);\n        data.append('draft', this.props.draftId)\n\n        // load event\n        request.addEventListener('load', (e) => {\n            let res = e.target.response\n            console.log(res);\n\n            this.setState({\n                files: this.state.files.map(item => {\n                    if (item.name === ele.name) {\n                        return {\n                            ...item,\n                            saved: true,\n                            progress: '100%',\n                            url: res.file,\n                            id: res.id,\n                        }\n                    }\n                    return item\n                })\n            })\n        });\n\n        console.log(this.state.files)\n\n        // monitor progress of upload\n        request.upload.addEventListener('progress', (e) => {\n            var progress = (e.loaded / e.total) * 100 + '%';\n\n            this.setState({\n                files: this.state.files.map(item => {\n                    if (item.name === ele.name) {\n                        return {\n                            ...item,\n                            progress\n                        }\n                    }\n                    return item\n                })\n            })\n        });\n\n        request.upload.addEventListener('abort', (e) => {\n            let files = this.state.files\n                .filter(item => item.name !== ele.file.name)\n\n            this.setState({\n                ...this.state,\n                files\n            })// end of setstate\n\n        })\n\n        request.responseType = 'json';\n        request.open('post', burl + 'api/attachment/');\n        request.setRequestHeader('Authorization',sessionStorage['token'])\n        request.send(data);\n\n        // attach request obj to state  \n        this.setState({\n            files: this.state.files.map(item => {\n                if (item.name === ele.name) {\n                    return {\n                        ...item,\n                        request\n                    }\n                }\n                return item\n            })\n        })\n    }\n\n    deleteFileHandler = (e, ele) => {\n        e.preventDefault()\n\n        if (!ele.saved) {\n            ele.request.abort()\n            return\n        }\n\n        this.axios.delete(`api/attachment/${ele.id}/`)\n            .then(d => {\n                d = d.data\n                let files = this.state.files.filter(item => item.id !== ele.id)\n                this.setState({ files })\n            })\n    }\n\n    render() {\n        let files = (\n            <div className=\"alert alert-warning\">\n                No attachments yet\n            </div>\n        )\n\n        if (this.state.files.length > 0) {\n            // console.log('rendering')\n            files = []\n            this.state.files.forEach((ele, i) => {\n                // console.log(ele)\n                let action =\n                    <button className=\"btn green nbtn mx-2\" onClick={(e) => this.uploadFileHandler(e, ele)}>\n                        <i className=\"fa fa-upload\"></i>\n                    </button>\n                let file_link = 'inprogess'\n\n                if (!ele.progess) {\n                    file_link = 'waiting'\n                }\n\n                if (ele.saved) {\n                    file_link =\n                        <a href={ele.url} target='_blank' rel=\"noopener noreferrer\" >\n                            link\n                        </a>\n                }\n\n                if (ele.progress || ele.id) {\n                    action =\n                        <button className=\"btn red nbtn mx-2\" onClick={(e) => this.deleteFileHandler(e, ele)}>\n                            <i className=\"fa fa-times\"></i>\n                        </button>\n                }\n\n                files.push(\n                    <div className='d-flex tab file align-items-center justify-content-between' key={ele.name}>\n                        <div className='d-flex align-items-center justify-content-between'>\n                            <div className='name mx-2'>\n                                {ele.name}\n                            </div>\n                            <div className='link mx-2 badge badge-pill badge-dark'>\n                                {file_link}\n                            </div>\n                        </div>\n                        <div className='d-flex align-items-center justify-content-between'>\n                            <div className={`progress mx-2 ${ele.saved ? 'hide-progress' : ''}`}>\n                                <div className={`progress-bar progress-bar-striped m-0`}\n                                    style={{ width: ele.progress }}></div>\n                            </div>\n                            {action}\n                        </div>\n                    </div>\n                )\n            })\n        }\n\n        return (\n            <div className='fileUpload'>\n                <div className=\"d-flex align-items-center mt-3\">\n                    <div>\n                        <label className='font-weight-bold mx-3 my-4'>Attachments:</label>\n                    </div>\n                    <div>\n                        <button className=\"btn blue nbtn\" onClick={this.selectFilesHandler}>\n                            <i className=\"fa fa-plus\" ></i>\n                        </button>\n                    </div>\n                </div>\n                <div className=\"files\">\n                    {files}\n                </div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport FileUpload from './file_upload'\n\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\n\nimport faxios from '../../axios';\n\nexport default class NewMail extends Component {\n    axios = faxios()\n    constructor(props) {\n        super(props);\n\n        let emailBody = '<p>loading please wait...</p>';\n\n        const contentBlock = htmlToDraft(emailBody);\n        if (contentBlock) {\n            const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n            const editorState = EditorState.createWithContent(contentState);\n            this.state = {\n                editorState,\n                files: false\n            };\n        }\n    }\n\n    componentDidMount = () => {\n        this.subject = document.querySelector('#subject');\n        this.files = document.querySelector('.files');\n        this.draftId = this.props.match.params.id\n        localStorage.setItem('currDraft', this.draftId)\n\n        this.axios.get('api/draft/' + this.draftId + '/')\n            .then(d => {\n                d = d.data\n\n                this.html2Draft(d.body)\n                this.subject.value = d.subject\n                console.log(d)\n                this.setState({\n                    ...this.state,\n                    ...d\n                })\n            })\n    }\n\n    onEditorStateChange = (editorState) => {\n        this.setState({ editorState });\n    };\n\n    draft2Html = () => {\n        const { editorState } = this.state;\n        const html = draftToHtml(convertToRaw(editorState.getCurrentContent()))\n        return html\n    }\n\n    html2Draft = (html) => {\n        const contentBlock = htmlToDraft(html);\n        if (contentBlock) {\n            const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n            const editorState = EditorState.createWithContent(contentState);\n            this.setState({ editorState });\n        }\n    }\n\n    saveDraftHandler = (e, sendMail) => {\n        e.preventDefault()\n\n        this.axios.put('api/draft/' + this.draftId + '/', {\n            subject: this.subject.value,\n            body: this.draft2Html()\n        })\n            .then(d => {\n                // console.log(d.data)\n                if (!sendMail) {\n                    this.props.history.push('/admin/email/')\n                }\n            })\n    }\n\n    sendMailHandler = async (e) => {\n        e.preventDefault()\n        await this.saveDraftHandler(e, true)\n        this.props.history.push(`/admin/email/send_email/${this.draftId}/`)\n    }\n\n    deleteDraftHandler = (e) => {\n        e.preventDefault()\n        this.axios.delete('api/draft/' + this.draftId + '/')\n            .then(d => {\n                console.log(d.data)\n                this.props.history.push('/admin/email/')\n            })\n    }\n\n    render() {\n        return (\n            <div className='newMail'>\n                <form className=''>\n                    <div className=\"d-md-flex d-block align-items-center justify-content-between\">\n                        <h1 className='text-center'>Edit Mail</h1>\n                        <div className={`buttons py-md-3 py-1 ${this.state.status ? 'd-none' : 'd-flex justify-content-center'}`}>\n                            <button className=\"btn btn-outline-danger mr-3\"\n                                onClick={this.deleteDraftHandler}>delete</button>\n                            <button className=\"btn mr-3\"\n                                onClick={this.saveDraftHandler}>save</button>\n                            <button className=\"btn btn-success\"\n                                onClick={this.sendMailHandler}>send</button>\n                        </div>\n                    </div>\n\n                    {/* subject */}\n                    <div className=\"form-group mt-3\">\n                        <label htmlFor=\"subject\" className='font-weight-bold'>Subject:</label>\n                        <input\n                            status={this.state.status}\n                            type='text'\n                            id='subject'\n                            className='form-control w-100' />\n                    </div>\n\n                    {/* body */}\n                    <label className='font-weight-bold mt-2'>Body:</label>\n                    <div className='body'>\n                        <Editor\n                            className='bg-white'\n                            status={this.state.status}\n                            editorState={this.state.editorState}\n                            onEditorStateChange={this.onEditorStateChange}\n                        />\n                    </div>\n\n                    {this.state.files ?\n                        <FileUpload draftId={this.draftId} initialFiles={this.state.files} />\n                        : ''}\n\n                </form>\n            </div>\n        )\n    }\n}\n"],"sourceRoot":""}