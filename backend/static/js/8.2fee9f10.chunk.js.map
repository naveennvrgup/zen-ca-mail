{"version":3,"sources":["admin/subscriber/actions.js","admin/subscriber/file_upload.js","admin/subscriber/toolbar.js","admin/subscriber/group.js"],"names":["set_loading","loading","dispatch","type","atypes","payload","update_state","get_subs","c_sgid","cpage_no","csk","_store$getState$subsc","store","getState","subscribers","page_no","selected_group_id","selected_group_name","search_keyword","faxios","get","concat","then","d","console","log","data","groups","Object","keys","map","x","_home_naveensundar_Desktop_zen_ca_mail_frontend_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","name","find","ele","id","FileUpload","state","progress","onprogress","selectFilesHandler","e","preventDefault","fi","document","createElement","accept","click","addEventListener","file","target","files","_this","uploadFileHandler","FormData","request","XMLHttpRequest","props","append","res","response","setState","objectSpread","upload","loaded","total","responseType","open","burl","setRequestHeader","sessionStorage","send","btn_text","this","String","toFixed","react_default","a","className","disabled","onClick","Component","connect","actions","Toolbar","upload_subs","componentDidMount","new_sub","querySelector","new_sub_name","new_sub_email","new_sub_mobile","add_sub_to_group_handler","post","groupId","value","email","mobile","delete_group_handler","group_2_delete","delete","download_group_csv_handler","anchor","href","_search","search_box","_clear_search","find_duplicates","axios","alert","msg","delete_duplicates","_this2","search_btn","clear_search_btn","new_sub_input","autoComplete","key","placeholder","file_upload","ref","Group","edit","_unblock_subscriber","sub","put","status","flag","group","defineProperty","_delete_subscriber","length","_edit_subscriber","_edit_sub_change","inputname","sub_id","subs_list","i","onChange","edit_subscriber_html","show_subscriber_html","pagination","previous","next","toolbar","loader","react"],"mappings":"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","file":"static/js/8.2fee9f10.chunk.js","sourcesContent":["import faxios, { burl } from '../../axios';\nimport * as atypes from './action_types'\nimport { store } from '../../index'\n\nexport const set_loading = (loading) => dispatch => {\n    return dispatch({\n        type: atypes.UPDATE_STATE,\n        payload: { loading }\n    })\n}\n\nexport const update_state = payload => dispatch => {\n    return dispatch({\n        type: atypes.UPDATE_STATE,\n        payload\n    })\n}\n\nexport const get_subs = (c_sgid, cpage_no, csk) => dispatch => {\n    let { page_no, selected_group_id, selected_group_name, search_keyword } = store.getState().subscribers\n\n    if (c_sgid) {\n        selected_group_id = c_sgid\n    }\n\n    if (cpage_no) {\n        page_no = cpage_no\n    }\n\n    if (csk){\n        search_keyword = csk\n    }\n\n\n    faxios().get(`api/all_subs/?${search_keyword ? 'search=' + search_keyword : ''}&group_id=${selected_group_id}&page=${page_no}`)\n        .then(d => {\n            console.log(d.data)\n            let groups = d.data.groups\n            groups = Object.keys(groups)\n                .map(x => ({ name: x, ...groups[x] }))\n\n            if (c_sgid) {\n                selected_group_name = groups.find(ele => ele.id === c_sgid).name\n            } if (!selected_group_id) {\n                selected_group_id = groups.find(ele => ele.name === 'Subscribers').id\n            }\n\n            console.log({ selected_group_name, selected_group_id })\n\n            return dispatch({\n                type: atypes.UPDATE_STATE,\n                payload: {\n                    ...d.data,\n                    selected_group_id,\n                    selected_group_name,\n                    loading: false\n                },\n            })\n        })\n}\n\n\n\n\n","import React, { Component } from 'react'\nimport { burl } from '../../axios'; \n\n// redux\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport * as actions from './actions'\n\n\nclass FileUpload extends Component {\n    state = {\n        progress: 0,\n        onprogress: false,\n    }\n\n    static propTypes = {\n    }\n\n    selectFilesHandler = e => {\n        e.preventDefault()\n\n        let fi = document.createElement('input')\n        fi.type = 'file'\n        fi.accept = '.csv'\n        fi.click()\n\n        fi.addEventListener('change', e => {\n            let file = e.target.files[0]\n            this.uploadFileHandler(file)\n        })\n    }\n\n    uploadFileHandler = (file) => {\n\n        var data = new FormData();\n        var request = new XMLHttpRequest();\n        console.log(this.props)\n        data.append('group_id', this.props.selected_group_id)\n        data.append('file', file);\n\n        // load event\n        request.addEventListener('load', (e) => {\n            let res = e.target.response\n            console.log(res);\n\n            this.props.set_loading(true)\n            this.props.get_subs()\n            this.setState({\n                ...this.state,\n                onprogress: false\n            })\n        });\n\n        // monitor progress of upload\n        request.upload.addEventListener('progress', (e) => {\n            var progress = (e.loaded / e.total) * 100\n            console.log(progress)\n            this.setState({\n                ...this.state,\n                progress\n            })\n        })\n\n        request.responseType = 'json';\n        request.open('post', burl + 'api/sub_as_csv/');\n        request.setRequestHeader('Authorization',sessionStorage['token'])\n        request.send(data);\n\n        this.setState({\n            ...this.state,\n            onprogress: true,\n        })// end of setstate\n        console.log('upload started', this.state)\n    }\n\n    render() {\n        // let error = <\n\n        let btn_text = this.state.onprogress ?\n            String(this.state.progress.toFixed(0)) :\n            <i className=\"fa fa-upload\"></i>\n\n\n        return (\n            <div className=''>\n                <div className=\"new_sub_csv d-flex justify-content-between align-items-center\">\n                    <div className='text-left'>\n                        Upload a .csv with fields email, name, mobile\n                    </div>\n                    <button\n                        disabled={this.state.onprogress ? true : false}\n                        onClick={this.selectFilesHandler}\n                        className=\"btn nbtn green\">\n                        {btn_text}\n                    </button>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => state.subscribers\n\nexport default connect(mapStateToProps, actions)(FileUpload)","import React, { Component } from 'react'\nimport UploadCSV from './file_upload'\nimport faxios, { burl } from '../../axios'\n\n// redux\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport * as actions from './actions'\nimport axios from '../../axios'\n\n\nclass Toolbar extends Component {\n    static propTypes = {\n        groups: PropTypes.object.isRequired,\n        get_subs: PropTypes.func.isRequired,\n    }\n\n\n    state = {\n        upload_subs: 0,\n    }\n\n\n    componentDidMount = () => {\n        this.new_sub = document.querySelector('.new_sub');\n        this.new_sub_name = this.new_sub.querySelector('.new_sub_name');\n        this.new_sub_email = this.new_sub.querySelector('.new_sub_email');\n        this.new_sub_mobile = this.new_sub.querySelector('.new_sub_mobile');\n    }\n\n    add_sub_to_group_handler = (e) => {\n        e.preventDefault()\n\n        this.props.set_loading(true)\n        faxios().post('api/add_sub_to_group/', {\n            groupId: this.props.selected_group_id,\n            name: this.new_sub_name.value,\n            email: this.new_sub_email.value,\n            mobile: this.new_sub_mobile.value\n        }).then(d => {\n            this.new_sub_name.value = ''\n            this.new_sub_email.value = ''\n            this.new_sub_mobile.value = ''\n            // update sub list\n            this.props.get_subs()\n        })\n    }\n\n    delete_group_handler = (e) => {\n        e.preventDefault()\n        if (this.props.selected_group_name === 'Subscribers') {\n            return\n        }\n\n        let group_2_delete = this.props.selected_group_id\n\n        this.props.update_state({\n            selected_group_id: null,\n            selected_group_name: 'Subscribers',\n            loading: true\n        })\n\n        faxios().delete(`api/group/${group_2_delete}/`)\n            .then(d => {\n                console.log(d.data)\n                this.props.get_subs()\n            })\n    }\n\n    download_group_csv_handler = () => {\n        let anchor = document.createElement('a')\n        anchor.href = burl + `api/download_group_as_csv/${this.props.selected_group_id}/`\n        anchor.click()\n    }\n\n    _search = (e) => {\n        e.preventDefault()\n        this.props.update_state({\n            loading: true,\n            state: 'search',\n            search_keyword: this.search_box.value,\n        })\n        this.props.get_subs(null, null, this.search_box.value)\n    }\n\n    _clear_search = (e) => {\n        e.preventDefault()\n        this.props.update_state({\n            loading: true,\n            state: 'normal',\n            search_keyword: null,\n        })\n        this.props.get_subs()\n        this.search_box.value = ''\n    }\n\n    find_duplicates = e => {\n        e.preventDefault()\n\n        this.props.set_loading(true)\n        axios().get(`api/find_duplicates/${this.props.selected_group_id}/`)\n            .then(d => {\n                alert(d.data.msg)\n                this.props.set_loading(false)\n            })\n    }\n\n    delete_duplicates = e => {\n        e.preventDefault()\n\n        this.props.set_loading(true)\n        axios().get(`api/delete_duplicates/${this.props.selected_group_id}/`)\n            .then(d => {\n                alert(d.data.msg)\n                this.props.get_subs()\n            })\n    }\n\n    render() {\n        let search_btn =\n            <button\n                onClick={this._search}\n                className=\"btn btn-primary btn-sm\">\n                Search <i className=\"fa fa-search\"></i>\n            </button>\n\n\n        let clear_search_btn =\n            <button\n                onClick={this._clear_search}\n                className=\"btn btn-danger btn-sm\">\n                Clear Search <i className=\"fa fa-times\"></i>\n            </button>\n\n        let new_sub_input =\n            <form autoComplete='false' className={'d-flex new_sub align-items-center px-1 py-2'} key={1}>\n                {/* <div className='sno px-2 font-weight-bold'>{1}</div> */}\n                <div className='flex-grow-1 d-flex align-items-center flex-wrap justify-content-between'>\n                    {/* email */}\n                    <input\n                        type=\"email\"\n                        className=\"new_sub_email tab_input tab_input_sm mt-2\"\n                        placeholder=\"Email\" />\n                    {/* username */}\n                    <input\n                        type=\"text\"\n                        className=\"new_sub_name tab_input tab_input_sm mt-2\"\n                        placeholder=\"Name\" />\n                    {/* mobile */}\n                    <input\n                        type=\"mobile\"\n                        className=\"new_sub_mobile tab_input tab_input_sm mt-2\"\n                        placeholder=\"Mobile number\" />\n                </div>\n                <div className='create-sub create'>\n                    <button\n                        onClick={this.add_sub_to_group_handler}\n                        className=\"btn nbtn green\">\n                        <i className=\"fa fa-plus\"></i>\n                    </button>\n                </div>\n            </form>\n\n        return (\n            <div className='toolbar tab p-3'>\n                {/* new sub via input */}\n                <div>\n                    <div className=\"font-weight-bold\">New subscriber:</div>\n                    {new_sub_input}\n                </div>\n                {/* upload csv */}\n                <div>\n                    <div className=\"font-weight-bold mt-2\">Upload subscribers as CSV:</div>\n                    <UploadCSV />\n                </div>\n                {/* download csv */}\n                <div>\n                    <div className=\"font-weight-bold mt-2\">Download subscribers as CSV:</div>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            Click here to download .csv of the subscribers of this group\n                        </div>\n                        <button\n                            onClick={this.download_group_csv_handler}\n                            className=\"btn nbtn blue\">\n                            <i className=\"fa fa-download\"></i>\n                        </button>\n                    </div>\n                </div>\n                {/* delete current group */}\n                <div>\n                    <div className=\"font-weight-bold mt-2\">Delete current group:</div>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            This will only delete the group not the subscribers\n                        </div>\n                        <button\n                            disabled={this.props.selected_group_name === 'Subscribers' ? true : false}\n                            onClick={this.delete_group_handler}\n                            className=\"btn nbtn red\">\n                            <i className=\"fa fa-trash\"></i>\n                        </button>\n                    </div>\n                </div>\n                {/* search for subs */}\n                <form>\n                    <div className=\"font-weight-bold mt-2\">Search for subscribers:</div>\n                    <div className={'d-flex new_sub align-items-center px-1 py-2'}>\n                        <div>\n                            <input\n                                ref={ele => this.search_box = ele}\n                                type=\"mobile\"\n                                className=\"new_sub_mobile tab_input tab_input_sm lg_input mt-2\"\n                                placeholder=\"Search by email, name, phone no\" />\n                        </div>\n                        <div className='create-sub create mx-2'>\n                            {this.props.state === 'search' ? clear_search_btn : search_btn}\n                        </div>\n                        <button\n                            onClick={this.find_duplicates}\n                            className=\"btn btn-success btn-sm mx-2\">\n                            Find <i className=\"fa fa-clone\"></i>\n                        </button>\n                        <button\n                            onClick={this.delete_duplicates}\n                            className=\"btn btn-danger btn-sm mx-2\">\n                            Delete <i className=\"fa fa-clone\"></i>\n                        </button>\n                    </div>\n                </form>\n            </div >\n        )\n    }\n}\n\nconst mapStateToProps = (state) => state.subscribers\n\nexport default connect(mapStateToProps, actions)(Toolbar)","import React, { Component, Fragment } from 'react'\nimport Toolbar from './toolbar'\nimport faxios from '../../axios';\nimport { loader } from '../../spinner'\n\n// redux\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport * as actions from './actions'\n\nclass Group extends Component {\n    axios = faxios()\n\n    state = {\n        edit: {}\n    }\n\n    static propTypes = {\n        subscribers: PropTypes.array.isRequired,\n    }\n\n    _unblock_subscriber = (e, sub) => {\n        e.preventDefault()\n        \n        this.props.set_loading(true)\n        faxios().put(`api/all_subs/${sub.id}/`, {\n            status: 'available',\n            flag: false,\n            email: sub.email,\n            name: sub.name,\n            mobile: sub.mobile,\n            group: sub.group\n        }).then(d => {\n            this.setState({\n                edit: {\n                    ...this.state.edit,\n                    [sub.id]: null\n                }\n            })\n            this.props.get_subs()\n        })\n    }\n    \n    _delete_subscriber = (e, sub) => {\n        e.preventDefault()\n        \n        this.props.set_loading(true)\n        faxios().delete(`api/all_subs/${sub.id}/`)\n            .then(d => {\n                console.log('flagged')\n                if (this.props.subscribers.length === 1 && this.props.page_no > 1) {\n                    this.props.get_subs(null,this.props.page_no-1)\n                }else{\n                    this.props.get_subs(null,this.props.page_no)\n                }\n            })\n    }\n    \n    \n    _edit_subscriber = (e, sub) => {\n        e.preventDefault()\n    \n        this.setState({\n            edit: {\n                ...this.state.edit,\n                [sub.id]: sub\n            }\n        })\n\n        // console.log(subs)\n    }\n    \n    _edit_sub_change = (e, inputname, sub_id) => {\n        e.preventDefault()\n    \n        let edit = this.state.edit\n        edit[sub_id][inputname] = e.target.value\n        this.setState({edit})\n    }\n\n\n    render() {\n        let show_subscriber_html = (sub, i) =>\n            <div className={'d-flex  tab align-items-center '} key={i + 1}>\n                <div className='sub_sno px-2 font-weight-bold'>{i + 1}</div>\n                <div className='sub_phone px-2'>\n                    <i className={`fa fa-circle ${sub.status === 'available' ? 'text-success' : 'text-danger'}`}></i>\n                </div>\n                <div className='sub_email px-2'>{sub.email}</div>\n                <div className='sub_name px-2'>{sub.name}</div>\n                <div className='sub_phone px-2 flex-grow-1'>{sub.mobile}</div>\n                {sub.status !== 'available' ? <button\n                    onClick={e => this._unblock_subscriber(e, sub)}\n                    className={`btn mx-1 nbtn green`}>\n                    <i className='fa fa-check'></i>\n                </button> : null}\n                <button\n                    onClick={e => this._edit_subscriber(e, sub)}\n                    className={`btn mx-1 nbtn blue`}>\n                    <i className='fa fa-pen'></i>\n                </button>\n                <button\n                    onClick={e => this._delete_subscriber(e, sub)}\n                    className={`btn mx-1 nbtn red`}>\n                    <i className='fa fa-trash'></i>\n                </button>\n            </div>\n\n        let edit_subscriber_html = (sub, i) =>\n            <div className={'d-flex  tab align-items-center '} key={i + 1}>\n                <div className='sub_sno px-2 font-weight-bold'>{i + 1}</div>\n                <div className='sub_phone px-2'>\n                    <i className={`fa fa-circle ${sub.status === 'available' ? 'text-success' : 'text-danger'}`}></i>\n                </div>\n                <div className='sub_email px-2'><input type=\"email\" placeholder='Email' onChange={e => this._edit_sub_change(e, 'email', sub.id)} value={sub.email} /></div>\n                <div className='sub_name px-2'><input type=\"text\" placeholder='Name' onChange={e => this._edit_sub_change(e, 'name', sub.id)} value={sub.name} /></div>\n                <div className='sub_phone px-2 flex-grow-1'><input type=\"text\" placeholder='Phone no.' onChange={e => this._edit_sub_change(e, 'mobile', sub.id)} value={sub.mobile} /></div>\n                <button\n                    onClick={e => this._unblock_subscriber(e, sub)}\n                    className={`btn mx-1 nbtn green`}>\n                    <i className='fa fa-check'></i>\n                </button>\n            </div>\n\n\n        let subs_list = this.props.subscribers.map((sub, i) => {\n            if (this.state.edit[sub.id]) {\n                return edit_subscriber_html(this.state.edit[sub.id], i)\n            } else {\n                return show_subscriber_html(sub, i)\n            }\n        })\n\n        let pagination =\n            <div className=\"d-flex justify-content-between align-items-center\">\n                <div className=\"font-weight-bold p-3\">Subscribers: {this.props.subscribers.length}</div>\n                <div className=\"sub-pagination pagination\">\n                    <span className='mx-1'>\n                        Page {this.props.page_no}\n                    </span>\n                    <button\n                        disabled={this.props.previous ? false : true}\n                        onClick={e => {\n                            this.props.set_loading(true)\n                            this.props.get_subs(null, this.props.page_no - 1)\n                        }}\n                        className=\"btn nbtn blue mx-1\">\n                        <i className=\"fa fa-angle-left\"></i>\n                    </button>\n                    <button\n                        disabled={this.props.next ? false : true}\n                        onClick={e => {\n                            this.props.set_loading(true)\n                            this.props.get_subs(null, this.props.page_no + 1)\n                        }}\n                        className=\"btn nbtn blue mx-1\">\n                        <i className=\"fa fa-angle-right\"></i>\n                    </button>\n                </div>\n            </div>\n\n        return (\n            <div>\n                <div className=''>\n                    <Toolbar />\n                    {this.props.loading ? loader : <Fragment>\n                        {pagination}\n                        {subs_list}\n                        {this.props.subscribers.length > 10 ? pagination : null}\n                    </Fragment>}\n                </div>\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => state.subscribers\n\nexport default connect(mapStateToProps, actions)(Group)"],"sourceRoot":""}