{"version":3,"sources":["admin/email/sent_mail.js"],"names":["send_mail","axios","faxios","state","groups","draft","subject","body","files","componentDidMount","_this","draftId","props","match","params","id","document","querySelector","group","get","then","d","data","console","log","setState","Object","_home_naveensundar_Desktop_zen_ca_mail_frontend_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","concat","innerHTML","_forward_mail_handler","e","preventDefault","post","history","push","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","key","value","this","forEach","ele","name","subs","attachments","map","href","file","split","pop","onClick","goBack","sentTo","length","Component"],"mappings":"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","file":"static/js/5.ae3bb4a6.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport faxios from \"../../axios\";\n\nexport default class send_mail extends Component {\n  axios = faxios();\n  state = {\n    groups: [],\n    draft: {\n      subject: \"\",\n      body: \"\",\n      files: []\n    }\n  };\n\n  componentDidMount = () => {\n    this.draftId = this.props.match.params.id;\n    this.send_mail = document.querySelector(\".send-mail\");\n    this.body = this.send_mail.querySelector(\".body\");\n    this.group = this.send_mail.querySelector(\"#group\");\n\n    this.axios.get(\"api/group/\").then(d => {\n      d = d.data;\n      console.log(d);\n      this.setState({\n        ...this.state,\n        groups: d\n      });\n    });\n\n    this.axios.get(`api/draft/${this.draftId}/`).then(d => {\n      d = d.data;\n      console.log(d);\n      this.body.innerHTML = d.body;\n      this.setState({\n        draft: d\n      });\n    });\n  };\n\n  _forward_mail_handler = e => {\n    e.preventDefault();\n    this.axios\n      .post(`api/forward_mail/${this.draftId}/`, {})\n      .then(d => {\n        console.log(d.data);\n        this.props.history.push(`/admin/email/edit_email/${d.data.id}/`);\n      });\n  };\n\n  render() {\n    const groups = [\n      <option className=\"form-control\" key={0} value={0}>\n        --choose--\n      </option>\n    ];\n\n    this.state.groups.forEach(ele =>\n      groups.push(\n        <option className=\"form-control\" key={ele.id} value={ele.id}>\n          {ele.name} ({ele.subs})\n        </option>\n      )\n    );\n\n    const attachments = this.state.draft.files.map(ele => (\n      <li key={ele.id}>\n        <a href={ele.file}>{ele.file.split(\"/\").pop()}</a>\n      </li>\n    ));\n\n    return (\n      <div className=\"send-mail p-1 p-md-5\">\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <h1 className=\"\">Sent Mail</h1>\n          <div>\n            <button onClick={this.props.history.goBack} className=\"btn mx-2\">\n              <i className=\"fa fa-arrow-left\" /> back\n            </button>\n            <button\n              onClick={this._forward_mail_handler}\n              className=\"btn btn-success mx-2\"\n            >\n              Forward <i className=\"fas fa-arrow-right\" />\n            </button>\n          </div>\n        </div>\n        <div className=\"info mt-4\">\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Sent to: </label>\n            <span> {this.state.draft.sentTo}</span>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Sent to group: </label>\n            <span> {this.state.draft.group}</span>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Subject:</label>\n            <span className=\"subject\"> {this.state.draft.subject}</span>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Body:</label>\n            <div className=\"body\" />\n          </div>\n          <div className=\"form-group\">\n            <label className=\"font-weight-bold\">Attachments:</label>\n            <ol className=\"attachments\">\n              {attachments.length ? attachments : \"no attachments\"}\n            </ol>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}