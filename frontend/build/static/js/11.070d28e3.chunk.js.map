{"version":3,"sources":["admin/dashboard/brief.js","admin/dashboard/line_chart_sent_mail.js","admin/dashboard/dashboard.js"],"names":["brief","react_default","a","createElement","className","this","props","subscribers","total","drafts","news","Component","emails_sent_chart","axios","fuser","state","data","componentDidMount","_this","get","then","d","console","table","sent","id","color","complaints","rejects","bounces","reverse","forEach","ele","i","currDate","Date","setDate","getDate","x","concat","getMonth","toDateString","slice","log","push","y","setState","Object","objectSpread","render","line","margin","top","right","bottom","left","xScale","type","yScale","stacked","min","max","axisTop","axisRight","axisBottom","orient","tickSize","tickPadding","tickRotation","legend","legendOffset","legendPosition","axisLeft","curve","colors","dotSize","dotColor","dotBorderWidth","dotBorderColor","enableDotLabel","dotLabel","dotLabelYOffset","animate","motionStiffness","motionDamping","legends","anchor","direction","justify","translateX","translateY","itemsSpacing","itemDirection","itemWidth","itemHeight","itemOpacity","symbolSize","symbolShape","symbolBorderColor","effects","on","style","itemBackground","dashboard","faxios","metrics","brief_brief","cost","line_chart_sent_mail_emails_sent_chart"],"mappings":"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","file":"static/js/11.070d28e3.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\nexport default class brief extends Component {\n    render() {\n        return (\n            <div className=\"row mt-2 px-0 brief justify-content-center\">\n                <div className=\"col-md-3 mt-3 col-sm-6 n-card-wrapper\">\n                    <div className=' n-card'>\n                        <div className='admin-orange n-card-i'>\n                            <i className=\"fa fa-users fa-2x text-white\"></i>\n                        </div>\n                        <div className='n-card-info'>\n                            <div className=\"n-card-title\">Subscribers</div>\n                            <div className=\"n-card-metric\">{this.props.subscribers.total}</div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-3 mt-3 col-sm-6 com n-card-wrapper\">\n                    <div className=' n-card'>\n                        <div className='admin-green n-card-i'>\n                            <i className=\"far fa-envelope fa-2x text-white\"></i>\n                        </div>\n                        <div className='n-card-info'>\n                            <div className=\"n-card-title\">Drafts</div>\n                            <div className=\"n-card-metric\">{this.props.drafts.total}</div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-3 mt-3 col-sm-6 n-card-wrapper\">\n                    <div className=' n-card'>\n                        <div className='admin-red n-card-i'>\n                            <i className=\"far fa-newspaper fa-2x text-white\"></i>\n                        </div>\n                        <div className='n-card-info'>\n                            <div className=\"n-card-title\">Newsfeed</div>\n                            <div className=\"n-card-metric\">{this.props.news.total}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { ResponsiveLine } from '@nivo/line'\nimport fuser from '../../axios'\n\n// this comp draws the chart in the dashboard\nexport default class emails_sent_chart extends Component {\n    axios = fuser()\n\n    state = {\n        data: []\n    }\n\n    componentDidMount = () => {\n        this.axios.get('api/get_delivery_reports/')\n            .then(d => {\n                d = d.data\n                console.table(d);\n\n                let sent = { id: 'sent', color:'green', data: [] }\n                let complaints = { id: 'complaints', color:'hsl(0, 100%, 50%)', data: [] }\n                let rejects = { id: 'rejects', data: [] }\n                let bounces = { id: 'bounces', data: [] }\n\n                // this transform the data from server into the required format \n                // for the chart library\n                d.reverse().forEach((ele, i) => {\n                    i = 14 - i\n                    let currDate = new Date()\n                    currDate.setDate(currDate.getDate() - i)\n                    let x = `${currDate.getMonth()+1}/${currDate.toDateString().slice(8, 10)}`\n                    console.log(x);\n\n                    sent.data.push({ x, y: ele.sent })\n                    complaints.data.push({ x, y: ele.complaints })\n                    rejects.data.push({ x, y: ele.rejects })\n                    bounces.data.push({ x, y: ele.bounces })\n                })\n                d = [sent, complaints, rejects, bounces]\n                console.log(d)\n                this.setState({\n                    ...this.state,\n                    data: d\n                })// end of setstate\n            })\n    }\n\n\n    render = () => (\n        <div className='emails-sent-chart'>\n\n            <ResponsiveLine\n                data={this.state.data}\n                margin={{\n                    \"top\": 50,\n                    \"right\": 15,\n                    \"bottom\": 50,\n                    \"left\": 50\n                }}\n                xScale={{\n                    \"type\": \"point\"\n                }}\n                yScale={{\n                    \"type\": \"linear\",\n                    \"stacked\": false,\n                    \"min\": \"auto\",\n                    \"max\": \"auto\"\n                }}\n                axisTop={null}\n                axisRight={null}\n                axisBottom={{\n                    \"orient\": \"bottom\",\n                    \"tickSize\": 5,\n                    \"tickPadding\": 5,\n                    \"tickRotation\": 0,\n                    \"legend\": \"Day of the month\",\n                    \"legendOffset\": 36,\n                    \"legendPosition\": \"middle\"\n                }}\n                axisLeft={{\n                    \"orient\": \"left\",\n                    \"tickSize\": 5,\n                    \"tickPadding\": 5,\n                    \"tickRotation\": 0,\n                    \"legend\": \"No. of emails sent\",\n                    \"legendOffset\": -40,\n                    \"legendPosition\": \"middle\"\n                }}\n                curve=\"linear\"\n                colors='dark2'\n                dotSize={10}\n                dotColor=\"inherit:darker(0.3)\"\n                dotBorderWidth={2}\n                dotBorderColor=\"#ffffff\"\n                enableDotLabel={true}\n                dotLabel=\"y\"\n                dotLabelYOffset={-12}\n                animate={true}\n                motionStiffness={90}\n                motionDamping={15}\n                legends={[\n                    {\n                        \"anchor\": \"top-right\",\n                        \"direction\": \"column\",\n                        \"justify\": false,\n                        \"translateX\": 0,\n                        \"translateY\": 0,\n                        \"itemsSpacing\": 0,\n                        \"itemDirection\": \"left-to-right\",\n                        \"itemWidth\": 80,\n                        \"itemHeight\": 20,\n                        \"itemOpacity\": 0.75,\n                        \"symbolSize\": 12,\n                        \"symbolShape\": \"circle\",\n                        \"symbolBorderColor\": \"rgba(0, 0, 0, .5)\",\n                        \"effects\": [\n                            {\n                                \"on\": \"hover\",\n                                \"style\": {\n                                    \"itemBackground\": \"rgba(0, 0, 0, .03)\",\n                                    \"itemOpacity\": 1\n                                }\n                            }\n                        ]\n                    }\n                ]}\n            />\n        </div>\n    )\n}\n","import React, { Component } from 'react'\nimport faxios from '../../axios'\n\nimport Brief from './brief'\nimport EmailsSentChart from './line_chart_sent_mail'\n\nexport default class dashboard extends Component {\n    axios = faxios()\n    state = {\n        drafts: {},\n        news: {},\n        subscribers: {},\n        metrics: [],\n    }\n\n    componentDidMount = () => {\n        this.axios.get('api/get_draft_details/')\n            .then(d => {\n                console.log(d.data);\n            })\n        this.axios.get('api/subscribers_brief/')\n            .then(d => {\n                console.log(d.data);\n                this.setState({\n                    ...this.state,\n                    subscribers: d.data\n                })// end of setstate\n            })\n        this.axios.get('api/drafts_brief/')\n            .then(d => {\n                console.log(d.data);\n                this.setState({\n                    ...this.state,\n                    drafts: d.data\n                })// end of setstate\n            })\n        this.axios.get('api/news_brief/')\n            .then(d => {\n                console.log(d.data);\n                this.setState({\n                    ...this.state,\n                    news: d.data\n                })// end of setstate\n            })\n        // this.axios.get('api/server_cost/')\n        //     .then(d => {\n        //         console.log(d.data);\n        //         this.setState({\n        //             ...this.state,\n        //             cost: d.data.cost\n        //         })// end of setstate\n        //     })\n    }\n\n\n    render() {\n        return (\n            <div className='dashboard'>\n                <h1 className=''>Dashboard</h1>\n                <Brief\n                    subscribers={this.state.subscribers}\n                    drafts={this.state.drafts}\n                    news={this.state.news}\n                    cost={this.state.cost}\n                />\n                <EmailsSentChart />\n            </div>\n        )\n    }\n}\n"],"sourceRoot":""}