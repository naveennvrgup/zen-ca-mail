(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(94),s=a.n(n),r="http://192.168.1.3:8000/";r="/",t.b=function(){return s.a.create({baseURL:r,headers:{authorization:sessionStorage.token}})}},102:function(e,t,a){},104:function(e,t,a){},106:function(e,t,a){},222:function(e,t,a){e.exports=a.p+"static/media/logo.f259361c.png"},223:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(31),c=a.n(r),l=(a(102),a(1)),o=a(5),i=a(3),m=a(2),u=a(4),d=a(504),p=a(343),f=(a(104),a(106),a(503)),b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).authorised=sessionStorage.token,a.componentWillMount=function(){console.log(),a.authorised||a.props.history.push("/user_login/")},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.authorised&&s.a.createElement(this.props.component,null))}}]),t}(n.Component),g=Object(f.a)(b),h=a(7),v=a(500),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={sbopen:!1},a.toggle_sidebar=function(e){a.setState(Object(h.a)({},a.state,{sbopen:!a.state.sbopen}))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"sidebar ".concat(this.state.sbopen?"sidebar-open":"")},s.a.createElement("div",{className:"text-right"},s.a.createElement("div",{onClick:this.toggle_sidebar,className:"btn close-sidebar-btn"},s.a.createElement("i",{className:"fa fa-bars fa-2x p-0"}))),s.a.createElement("div",{className:"contents pt-3"},s.a.createElement("div",{className:"admin-logo text-center "},s.a.createElement("i",{className:"fa fa-user fa-3x"})),s.a.createElement("div",{className:"links mt-4"},s.a.createElement(v.a,{onClick:this.toggle_sidebar,to:"/admin/dashboard/",className:"link "},s.a.createElement("i",{className:"far fa-chart-bar"}),s.a.createElement("span",null,"Dashboard")),s.a.createElement(v.a,{onClick:this.toggle_sidebar,to:"/admin/group/",className:"link "},s.a.createElement("i",{className:"fa fa-users"}),s.a.createElement("span",{to:"/admin/group"},"Subscribers")),s.a.createElement(v.a,{onClick:this.toggle_sidebar,to:"/admin/email/",className:"link "},s.a.createElement("i",{className:"far fa-envelope"}),s.a.createElement("span",{to:"/admin/email"},"E-mail")),s.a.createElement(v.a,{onClick:this.toggle_sidebar,to:"/admin/news/",className:"link "},s.a.createElement("i",{className:"far fa-newspaper"}),s.a.createElement("span",{to:"/admin/news"},"Newsfeed")),s.a.createElement(v.a,{onClick:this.toggle_sidebar,to:"/admin/Signout/",className:"link "},s.a.createElement("i",{className:"fas fa-sign-out-alt"}),s.a.createElement("span",{to:"/admin/signout"},"Signout")))))}}]),t}(n.Component),_=Object(f.a)(E),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).signout_handler=function(e){e.preventDefault(),sessionStorage.clear("token"),a.props.history.push("/user_login/")},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"p-5 text-center"},s.a.createElement("div",{className:"font-weight-bold"},"Are you sure want to sign out?"),s.a.createElement("div",{className:"mt-3"},s.a.createElement("button",{onClick:this.signout_handler,className:"btn mx-3 btn-outline-danger"},"Sign out"),s.a.createElement("button",{onClick:this.props.history.goBack,className:"btn mx-3 btn-primary"},"No, goback")))}}]),t}(n.Component),j=a(18),y=a.n(j),w=a(27),O=a(10),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).axios=Object(O.b)(),a.state={},a.update_toolbar=function(){a.axios.get("api/get_draft_categories_count/").then(function(e){console.log(e.data),a.setState(Object(h.a)({},a.state,e.data))})},a.componentDidMount=Object(w.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.update_toolbar();case 1:case"end":return e.stop()}},e,this)})),a.componentWillReceiveProps=function(){return a.update_toolbar()},a.newMailHandler=function(e){e.preventDefault(),a.axios.post("api/draft/",{subject:"new draft"}).then(function(e){console.log(e.data),a.props.history.push("/admin/email/edit_email/".concat(e.data.id,"/"))})},a.change_email_category_handler=function(){var e=Object(w.a)(y.a.mark(function e(t,n){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.props.change_email_state({selected_category:n,page:1});case 3:a.props.get_drafts();case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t="tab d-flex justify-content-between align-items-center btn ",a=function(t){return e.props.selected_category===t?"active-tab":""};return s.a.createElement("div",{className:"email-toolbar"},s.a.createElement("div",{className:"text-right my-3"},s.a.createElement("button",{className:"btn btn-success",onClick:this.newMailHandler},"New Mail")),s.a.createElement("div",{onClick:function(t){return e.change_email_category_handler(t,-1)},className:t+a(-1)},s.a.createElement("span",{className:"font-weight-bold mx-2"},"All"),s.a.createElement("span",{className:"badge badge-pill badge-primary"},this.state.total)),s.a.createElement("div",{onClick:function(t){return e.change_email_category_handler(t,0)},className:t+a(0)},s.a.createElement("span",{className:"font-weight-bold mx-2"},"Drafts"),s.a.createElement("span",{className:"badge badge-pill badge-danger"},this.state.drafts)),s.a.createElement("div",{onClick:function(t){return e.change_email_category_handler(t,1)},className:t+a(1)},s.a.createElement("span",{className:"font-weight-bold mx-2"},"Outbox"),s.a.createElement("span",{className:"badge badge-pill badge-warning"},this.state.outbox)),s.a.createElement("div",{onClick:function(t){return e.change_email_category_handler(t,2)},className:t+a(2)},s.a.createElement("span",{className:"font-weight-bold mx-2"},"Sent"),s.a.createElement("span",{className:"badge badge-pill badge-success"},this.state.sent)))}}]),t}(n.Component),k=Object(f.a)(x),S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).axios=Object(O.b)(),a.state={results:[],page:1,selected_category:-1},a.status_color=["text-danger","text-warning","text-success"],a.componentDidMount=function(){a.get_drafts()},a.get_drafts=function(){var e="api/draft/?page=".concat(a.state.page,"&status=");a.state.selected_category>-1&&(e+=String(a.state.selected_category)),a.axios.get(e).then(function(e){e=e.data,console.log(e),a.setState(Object(h.a)({},a.state,e,{toolbar_render:!a.state.toolbar_render}))})},a.deleteDraftHandler=function(e,t){e.preventDefault(),a.axios.put("api/draft/"+t+"/",{flag:!0}).then(function(e){console.log(e.data),1===a.state.results.length&&1!==a.state.page&&a.setState(Object(h.a)({},a.state,{page:a.state.page-1})),a.get_drafts()})},a.flagDraftHandler=function(e,t){e.preventDefault(),a.axios.put("api/draft/".concat(t,"/"),{flag:!0}).then(function(e){console.log(e.data),a.get_drafts()})},a.send2EditHandler=function(e,t){e.preventDefault(),a.props.history.push("/admin/email/edit_email/".concat(t,"/"))},a.send2sent_mail_handler=function(e,t){e.preventDefault(),a.props.history.push("/admin/email/sent_email/".concat(t,"/"))},a.change_page=function(e,t){var n;e.preventDefault();var s=a.state.page;if(t)n=a.state.next,s+=1;else{if(t)return;n=a.state.previous,s-=1}a.axios.get(n).then(function(e){console.log(e),a.setState(Object(h.a)({},a.state,e.data,{page:s}))})},a.change_email_state=function(e){a.setState(Object(h.a)({},a.state,e))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=function(t,a){return t.status>0?function(t,a){return s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("button",{onClick:function(a){return e.send2sent_mail_handler(a,t.id)},className:"btn nbtn mx-1 blue"},s.a.createElement("i",{className:"fas fa-glasses"})),s.a.createElement("button",{onClick:function(a){return e.flagDraftHandler(a,t.id)},className:"btn nbtn mx-1 red"},s.a.createElement("i",{className:"fas fa-times"})))}(t):function(t,a){return s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("button",{onClick:function(a){return e.send2EditHandler(a,t.id)},className:"btn nbtn mx-1 green"},s.a.createElement("i",{className:"fas fa-pen-alt"})),s.a.createElement("button",{onClick:function(a){return e.deleteDraftHandler(a,t.id)},className:"btn nbtn mx-1 red"},s.a.createElement("i",{className:"fas fa-trash"})))}(t)},a=this.state.results;a=a.map(function(a,n){return function(a,n){return s.a.createElement("div",{className:"d-flex tab align-items-center justify-content-between email",key:a.id},s.a.createElement("div",{className:"d-flex align-items-center mx-2 flex-grow-1"},s.a.createElement("div",{className:e.status_color[a.status]},s.a.createElement("i",{className:"fa fa-circle"})),s.a.createElement("div",{className:"srno mx-2 font-weight-bold"},n+1),s.a.createElement("div",{className:"subject mx-2 flex-grow-1"},a.subject),s.a.createElement("div",{className:"date mx-2 text-muted"},"(",a.created_on.slice(0,10),")")),s.a.createElement("div",null,t(a)))}(a,n)});var n=["Total","Drafts","Outbox","Sent"][this.state.selected_category+1],r=s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("div",{className:"font-weight-bold p-3"},n,": ",this.state.count),s.a.createElement("div",{className:"sub-pagination pagination"},s.a.createElement("span",{className:"mx-1"},"Page ",this.state.page),s.a.createElement("button",{disabled:!this.state.previous,onClick:function(t){return e.change_page(t,0)},className:"btn nbtn blue mx-1"},s.a.createElement("i",{className:"fa fa-angle-left"})),s.a.createElement("button",{disabled:!this.state.next,onClick:function(t){return e.change_page(t,1)},className:"btn nbtn blue mx-1"},s.a.createElement("i",{className:"fa fa-angle-right"}))));return s.a.createElement("div",{className:"emails"},s.a.createElement("div",{className:" row"},s.a.createElement("div",{className:"col-md-9 order-2 order-md-1"},r,a,this.state.results.length>10?r:""),s.a.createElement("div",{className:"col-md-3 order-1 order-md-2"},s.a.createElement(k,{toolbar_render:this.state.toolbar_render,get_drafts:this.get_drafts,change_email_state:this.change_email_state,selected_category:this.state.selected_category}))))}}]),t}(n.Component),C=(a(131),a(44)),D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).axios=Object(O.b)(),a.state={files:[]},a.componentDidMount=function(){var e=a.props.initialFiles;console.log(e),e=e.map(function(e){return{id:e.id,url:e.file,progess:"100%",name:e.file.split("/").pop(),saved:!0}}),a.setState(Object(h.a)({},a.state,{files:e}))},a.selectFilesHandler=function(e){e.preventDefault();var t=document.createElement("input");t.type="file",t.multiple=!0,t.click(),t.addEventListener("change",function(e){for(var n=Object(C.a)(a.state.files),s=function(e){var a=t.files[e],s=!0;n.forEach(function(e){e.name===a.name&&(s=!1)}),s&&n.push({file:a,name:a.name,progress:0})},r=0;r<t.files.length;r++)s(r);a.setState(Object(h.a)({},a.state,{files:n}))})},a.uploadFileHandler=function(e,t){e.preventDefault();var n=new FormData,s=new XMLHttpRequest;n.append("file",t.file),n.append("draft",a.props.draftId),s.addEventListener("load",function(e){var n=e.target.response;console.log(n),a.setState({files:a.state.files.map(function(e){return e.name===t.name?Object(h.a)({},e,{saved:!0,progress:"100%",url:n.file,id:n.id}):e})})}),console.log(a.state.files),s.upload.addEventListener("progress",function(e){var n=e.loaded/e.total*100+"%";a.setState({files:a.state.files.map(function(e){return e.name===t.name?Object(h.a)({},e,{progress:n}):e})})}),s.upload.addEventListener("abort",function(e){var n=a.state.files.filter(function(e){return e.name!==t.file.name});a.setState(Object(h.a)({},a.state,{files:n}))}),s.responseType="json",s.open("post",O.a+"api/attachment/"),s.setRequestHeader("Authorization",sessionStorage.token),s.send(n),a.setState({files:a.state.files.map(function(e){return e.name===t.name?Object(h.a)({},e,{request:s}):e})})},a.deleteFileHandler=function(e,t){e.preventDefault(),t.saved?a.axios.delete("api/attachment/".concat(t.id,"/")).then(function(e){e=e.data;var n=a.state.files.filter(function(e){return e.id!==t.id});a.setState({files:n})}):t.request.abort()},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=s.a.createElement("div",{className:"alert alert-warning"},"No attachments yet");return this.state.files.length>0&&(t=[],this.state.files.forEach(function(a,n){var r=s.a.createElement("button",{className:"btn green nbtn mx-2",onClick:function(t){return e.uploadFileHandler(t,a)}},s.a.createElement("i",{className:"fa fa-upload"})),c="inprogess";a.progess||(c="waiting"),a.saved&&(c=s.a.createElement("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},"link")),(a.progress||a.id)&&(r=s.a.createElement("button",{className:"btn red nbtn mx-2",onClick:function(t){return e.deleteFileHandler(t,a)}},s.a.createElement("i",{className:"fa fa-times"}))),t.push(s.a.createElement("div",{className:"d-flex tab file align-items-center justify-content-between",key:a.name},s.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},s.a.createElement("div",{className:"name mx-2"},a.name),s.a.createElement("div",{className:"link mx-2 badge badge-pill badge-dark"},c)),s.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},s.a.createElement("div",{className:"progress mx-2 ".concat(a.saved?"hide-progress":"")},s.a.createElement("div",{className:"progress-bar progress-bar-striped m-0",style:{width:a.progress}})),r)))})),s.a.createElement("div",{className:"fileUpload"},s.a.createElement("div",{className:"d-flex align-items-center mt-3"},s.a.createElement("div",null,s.a.createElement("label",{className:"font-weight-bold mx-3 my-4"},"Attachments:")),s.a.createElement("div",null,s.a.createElement("button",{className:"btn blue nbtn",onClick:this.selectFilesHandler},s.a.createElement("i",{className:"fa fa-plus"})))),s.a.createElement("div",{className:"files"},t))}}]),t}(n.Component),H=a(28),q=a(95),A=a(96),M=a.n(A),L=a(59),F=a.n(L),I=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).axios=Object(O.b)(),a.componentDidMount=function(){a.subject=document.querySelector("#subject"),a.files=document.querySelector(".files"),a.draftId=a.props.match.params.id,localStorage.setItem("currDraft",a.draftId),a.axios.get("api/draft/"+a.draftId+"/").then(function(e){e=e.data,a.html2Draft(e.body),a.subject.value=e.subject,console.log(e),a.setState(Object(h.a)({},a.state,e))})},a.onEditorStateChange=function(e){a.setState({editorState:e})},a.draft2Html=function(){var e=a.state.editorState;return M()(Object(H.convertToRaw)(e.getCurrentContent()))},a.html2Draft=function(e){var t=F()(e);if(t){var n=H.ContentState.createFromBlockArray(t.contentBlocks),s=H.EditorState.createWithContent(n);a.setState({editorState:s})}},a.saveDraftHandler=function(e,t){e.preventDefault(),a.axios.put("api/draft/"+a.draftId+"/",{subject:a.subject.value,body:a.draft2Html()}).then(function(e){t||a.props.history.push("/admin/email/")})},a.sendMailHandler=function(){var e=Object(w.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.saveDraftHandler(t,!0);case 3:a.props.history.push("/admin/email/send_email/".concat(a.draftId,"/"));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.deleteDraftHandler=function(e){e.preventDefault(),a.axios.delete("api/draft/"+a.draftId+"/").then(function(e){console.log(e.data),a.props.history.push("/admin/email/")})};var n=F()("<p>loading please wait...</p>");if(n){var s=H.ContentState.createFromBlockArray(n.contentBlocks),r=H.EditorState.createWithContent(s);a.state={editorState:r,files:!1}}return a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=s.a.createElement("h1",null,"Edit Mail");return s.a.createElement("div",{className:"newMail"},s.a.createElement("form",{className:"ml-3"},s.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},e,s.a.createElement("div",{className:"buttons py-3 ".concat(this.state.status?"d-none":"d-flex")},s.a.createElement("button",{className:"btn btn-outline-danger mr-3",onClick:this.deleteDraftHandler},"delete"),s.a.createElement("button",{className:"btn mr-3",onClick:this.saveDraftHandler},"save"),s.a.createElement("button",{className:"btn btn-success",onClick:this.sendMailHandler},"send"))),s.a.createElement("div",{className:"form-group mt-3"},s.a.createElement("label",{htmlFor:"subject",className:"font-weight-bold"},"Subject:"),s.a.createElement("input",{status:this.state.status,type:"text",id:"subject",className:"form-control w-100"})),s.a.createElement("label",{className:"font-weight-bold mt-2"},"Body:"),s.a.createElement("div",{className:"body"},s.a.createElement(q.Editor,{className:"bg-white",status:this.state.status,editorState:this.state.editorState,onEditorStateChange:this.onEditorStateChange})),this.state.files?s.a.createElement(D,{draftId:this.draftId,initialFiles:this.state.files}):""))}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).axios=Object(O.b)(),a.state={groups:[],draft:{subject:"",body:"",files:[]}},a.componentDidMount=function(){a.draftId=a.props.match.params.id,a.send_mail=document.querySelector(".send-mail"),a.body=a.send_mail.querySelector(".body"),a.group=a.send_mail.querySelector("#group"),a.axios.get("api/group/").then(function(e){e=e.data,console.log(e),a.setState(Object(h.a)({},a.state,{groups:e}))}),a.axios.get("api/draft/".concat(a.draftId,"/")).then(function(e){e=e.data,console.log(e),a.body.innerHTML=e.body,a.setState(Object(h.a)({},a.state,{draft:e}))})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=[s.a.createElement("option",{className:"form-control",key:0,value:0},"--choose--")];this.state.groups.forEach(function(t){return e.push(s.a.createElement("option",{className:"form-control",key:t.id,value:t.id},t.name," (",t.subs,")"))});var t=this.state.draft.files.map(function(e){return s.a.createElement("li",{key:e.id},s.a.createElement("a",{href:e.file},e.file.split("/").pop()))});return s.a.createElement("div",{className:"send-mail p-5"},s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("h1",{className:""},"Send Mail"),s.a.createElement("div",null,s.a.createElement("button",{onClick:this.props.history.goBack,className:"btn mx-2"},s.a.createElement("i",{className:"fa fa-arrow-left"})," back"))),s.a.createElement("div",{className:"info mt-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-weight-bold"},"Sent to: "),s.a.createElement("span",null,this.state.draft.sentTo)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-weight-bold"},"Sent to group: "),s.a.createElement("span",null,this.state.draft.group)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-weight-bold"},"Subject:"),s.a.createElement("span",{className:"subject mx-3"},this.state.draft.subject)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-weight-bold"},"Body:"),s.a.createElement("div",{className:"body"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-weight-bold"},"Attachments:"),s.a.createElement("ol",{className:"attachments"},t.length?t:"no attachments"))))}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).axios=Object(O.b)(),a.state={groups:[],draft:{subject:"",body:"",files:[]}},a.componentDidMount=function(){a.draftId=a.props.match.params.id,a.send_mail=document.querySelector(".send-mail"),a.body=a.send_mail.querySelector(".body"),a.group=a.send_mail.querySelector("#group"),a.axios.get("api/group/").then(function(e){e=e.data,console.log(e),a.setState(Object(h.a)({},a.state,{groups:e}))}),a.axios.get("api/draft/".concat(a.draftId,"/")).then(function(e){e=e.data,console.log(e),a.body.innerHTML=e.body,a.setState(Object(h.a)({},a.state,{draft:e}))})},a.send_mail_handler=function(e){e.preventDefault(),"0"!==a.group.value&&a.axios.post("api/send_bulk_mail/",{group:a.group.value,draft:a.draftId}).then(function(e){console.log(e.data),a.props.history.push("/admin/email/")})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=[s.a.createElement("option",{className:"form-control",key:0,value:0},"--choose--")];this.state.groups.forEach(function(t){return e.push(s.a.createElement("option",{className:"form-control",key:t.id,value:t.id},t.name," (",t.subs,")"))});var t=this.state.draft.files.map(function(e){return s.a.createElement("li",{key:e.id},s.a.createElement("a",{href:e.file},e.file.split("/").pop()))});return s.a.createElement("div",{className:"send-mail p-5"},s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("h1",{className:""},"Send Mail"),s.a.createElement("div",null,s.a.createElement("button",{onClick:this.props.history.goBack,className:"btn mx-2"},s.a.createElement("i",{className:"fa fa-arrow-left"})," back"),s.a.createElement("button",{disabled:!this.state.draft.id,onClick:this.send_mail_handler,className:"btn btn-success mx-2 "},"Send ",s.a.createElement("i",{className:"fa fa-plane"})))),s.a.createElement("div",{className:"info mt-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-weight-bold"},"Subscriber group:"),s.a.createElement("select",{name:"group",className:"form-control d-inline-block w-auto mx-3",defaultValue:0,id:"group"},e)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-weight-bold"},"Subject:"),s.a.createElement("span",{className:"subject mx-3"},this.state.draft.subject)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-weight-bold"},"Body:"),s.a.createElement("div",{className:"body"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-weight-bold"},"Attachments:"),s.a.createElement("ol",{className:"attachments"},t))))}}]),t}(n.Component),B=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"settings")}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={progress:0,onprogress:!1},a.selectFilesHandler=function(e){e.preventDefault();var t=document.createElement("input");t.type="file",t.accept=".csv",t.click(),t.addEventListener("change",function(e){var t=e.target.files[0];a.uploadFileHandler(t)})},a.uploadFileHandler=function(e){var t=new FormData,n=new XMLHttpRequest;console.log(a.props),t.append("group_id",a.props.selected_group_id),t.append("file",e),n.addEventListener("load",function(e){var t=e.target.response;console.log(t),a.props.get_subs(),a.props.update_groups(),a.setState(Object(h.a)({},a.state,{onprogress:!1}))}),n.upload.addEventListener("progress",function(e){var t=e.loaded/e.total*100;console.log(t),a.setState(Object(h.a)({},a.state,{progress:t}))}),n.responseType="json",n.open("post",O.a+"api/sub_as_csv/"),n.setRequestHeader("Authorization",sessionStorage.token),n.send(t),a.setState(Object(h.a)({},a.state,{progress:!0}))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.onprogress?String(this.state.progress)+" %":s.a.createElement("i",{className:"fa fa-upload"});return s.a.createElement("div",{className:""},s.a.createElement("div",{className:"new_sub_csv d-flex justify-content-between align-items-center"},s.a.createElement("div",{className:"text-left"},"Upload a .csv with fields email, name, mobile"),s.a.createElement("button",{disabled:!!this.state.onprogress,onClick:this.selectFilesHandler,className:"btn nbtn green"},e)))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).axios=Object(O.b)(),a.state={},a.componentDidMount=function(){a.new_sub=document.querySelector(".new_sub"),a.new_sub_name=a.new_sub.querySelector(".new_sub_name"),a.new_sub_email=a.new_sub.querySelector(".new_sub_email"),a.new_sub_mobile=a.new_sub.querySelector(".new_sub_mobile"),console.log(a.props)},a.add_sub_to_group_handler=function(e){e.preventDefault(),a.axios.post("api/add_sub_to_group/",{groupId:a.props.selected_group_id,name:a.new_sub_name.value,email:a.new_sub_email.value,mobile:a.new_sub_mobile.value}).then(function(e){a.props.get_subs(),a.props.update_groups()})},a.delete_group_handler=function(e){if(e.preventDefault(),"all"!==a.props.selected_group_name){var t=a.props.selected_group_id;a.props.set_groups_state({selected_group_id:null,selected_group_name:"all"}),a.axios.delete("api/group/".concat(t,"/")).then(function(e){console.log(e.data),a.props.update_groups()})}},a.download_group_csv_handler=function(){var e=document.createElement("a");e.href=O.a+"api/download_group_as_csv/".concat(a.props.selected_group_id,"/"),e.click()},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=s.a.createElement("form",{autoComplete:"false",className:"d-flex new_sub align-items-center px-1 py-2",key:1},s.a.createElement("div",{className:"flex-grow-1 d-flex align-items-center flex-wrap justify-content-between"},s.a.createElement("input",{type:"email",className:"new_sub_email tab_input tab_input_sm mt-2",placeholder:"email"}),s.a.createElement("input",{type:"text",className:"new_sub_name tab_input tab_input_sm mt-2",placeholder:"username"}),s.a.createElement("input",{type:"mobile",className:"new_sub_mobile tab_input tab_input_sm mt-2",placeholder:"mobile no."})),s.a.createElement("div",{className:"create-sub create"},s.a.createElement("button",{onClick:this.add_sub_to_group_handler,className:"btn nbtn green"},s.a.createElement("i",{className:"fa fa-plus"}))));return s.a.createElement("div",{className:"toolbar tab p-3"},s.a.createElement("div",null,s.a.createElement("div",{className:"font-weight-bold"},"New subscriber:"),e),s.a.createElement("div",null,s.a.createElement("div",{className:"font-weight-bold mt-2"},"Upload subscribers as CSV:"),s.a.createElement(R,this.props)),s.a.createElement("div",null,s.a.createElement("div",{className:"font-weight-bold mt-2"},"Download subscribers as CSV:"),s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("div",null,"Click here to download .csv of the subscribers of this group"),s.a.createElement("button",{onClick:this.download_group_csv_handler,className:"btn nbtn blue"},s.a.createElement("i",{className:"fa fa-download"})))),s.a.createElement("div",null,s.a.createElement("div",{className:"font-weight-bold mt-2"},"Delete current group:"),s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("div",null,"This will only delete the group not the subscribers"),s.a.createElement("button",{disabled:"all"===this.props.selected_group_name,onClick:this.delete_group_handler,className:"btn nbtn red"},s.a.createElement("i",{className:"fa fa-trash"})))))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).axios=Object(O.b)(),a.componentDidMount=function(){a.get_subs()},a.get_subs=function(){a.axios.get("api/group/".concat(a.props.selected_group_id,"/")).then(function(e){console.log(e.data),a.setState(Object(h.a)({},a.state,e.data,{page:1,group_id:a.props.selected_group_id}))})},a.flag_sub_handler=function(e,t){e.preventDefault(),a.axios.delete("api/subscribe/".concat(t.id,"/")).then(function(e){console.log("flagged"),1===a.state.results.length&&a.state.page>1&&a.setState(Object(h.a)({},a.state,{page:a.state.page-1})),a.get_subs(),a.props.update_groups()})},a.change_page=function(e,t){var n;e.preventDefault();var s=a.state.page;if(t)n=a.state.next,s+=1;else{if(t)return;n=a.state.previous,s-=1}a.axios.get(n).then(function(e){console.log(e),a.setState(Object(h.a)({},a.state,e.data,{page:s}))})},a.state={next:null,previous:null,results:[],page:1,upload_subs:0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;this.state.group_id!==this.props.selected_group_id&&this.get_subs();var t=this.state.results.map(function(t,a){return s.a.createElement("div",{className:"d-flex flex-wrap tab align-items-center ",key:a+1},s.a.createElement("div",{className:"sub_sno px-2 font-weight-bold"},a+1),s.a.createElement("div",{className:"sub_phone px-2"},s.a.createElement("i",{className:"fa fa-circle ".concat(t.verified?"text-success":"text-danger")})),s.a.createElement("div",{className:"sub_email px-2"},t.email),s.a.createElement("div",{className:"sub_name px-2"},t.name),s.a.createElement("div",{className:"sub_phone px-2 flex-grow-1"},t.mobile),s.a.createElement("button",{onClick:function(a){return e.flag_sub_handler(a,t)},className:"btn nbtn red"},s.a.createElement("i",{className:"fa fa-times"})))}),a=s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("div",{className:"font-weight-bold p-3"},"Subscribers: ",this.state.count),s.a.createElement("div",{className:"sub-pagination pagination"},s.a.createElement("span",{className:"mx-1"},"Page ",this.state.page),s.a.createElement("button",{disabled:!this.state.previous,onClick:function(t){return e.change_page(t,0)},className:"btn nbtn blue mx-1"},s.a.createElement("i",{className:"fa fa-angle-left"})),s.a.createElement("button",{disabled:!this.state.next,onClick:function(t){return e.change_page(t,1)},className:"btn nbtn blue mx-1"},s.a.createElement("i",{className:"fa fa-angle-right"}))));return s.a.createElement("div",null,s.a.createElement("div",{className:""},s.a.createElement(U,Object.assign({},this.props,{get_subs:this.get_subs})),a,t,this.state.results.length>10?a:null))}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).axios=Object(O.b)(),a.state={groups:[],new_group_name:"",selected_group_id:null,selected_group_name:"all"},a.componentDidMount=function(){a.get_groups()},a.get_groups=function(){a.axios.get("api/group/").then(function(e){var t=(e=e.data).filter(function(e){return e.name===a.state.selected_group_name})[0];console.log(e,a.state,t),a.setState(Object(h.a)({},a.state,{groups:e,selected_group_id:t.id,selected_group_name:t.name}))}).catch(function(e){return console.error(e)})},a.delete=function(e,t){e.preventDefault(),a.axios.delete("api/group/".concat(t)).then(function(e){e=e.data,a.setState({groups:a.state.groups.filter(function(e){return e.id!==t})})}).catch(function(e){return console.error(e)})},a.new_group=function(e){e.preventDefault(),a.state.new_group_name&&a.axios.post("api/group/",{name:a.state.new_group_name}).then(function(e){console.log(e.data),a.setState({groups:[].concat(Object(C.a)(a.state.groups),[e.data]),new_group_name:""})}).catch(function(e){return console.error(e)})},a.show_group=function(e,t){a.setState(Object(h.a)({},a.state,{selected_group_id:t.id,selected_group_name:t.name}))},a.set_groups_state=function(e){a.setState(Object(h.a)({},a.state,e))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.groups.map(function(t,a){return s.a.createElement("div",{className:"d-flex tab align-items-center \n                ".concat(t.id===e.state.selected_group_id?"active-tab":"","\n            "),key:a+2},s.a.createElement("div",{className:"group-name px-2 flex-grow-1",onClick:function(a){return e.show_group(a,t)}},t.name),s.a.createElement("div",{className:"ml-2 badge badge-pill badge-secondary "},t.subs))}),a=s.a.createElement("form",{className:"d-flex tab align-items-center new-group",key:1},s.a.createElement("div",{className:"flex-grow-1 pl-2"},s.a.createElement("input",{onChange:function(t){return e.setState(Object(h.a)({},e.state,{new_group_name:t.target.value}))},value:this.state.new_group_name,type:"text",className:"new_group_name tab_input",placeholder:"create group",autoFocus:!0})),s.a.createElement("div",{className:"create-group create px-1"},s.a.createElement("button",{onClick:this.new_group,className:"btn nbtn green"},s.a.createElement("i",{className:"fa fa-plus"}))));return s.a.createElement("div",{className:"subscribers "},s.a.createElement("div",{className:"subs row"},s.a.createElement("div",{className:"col-md-9"},this.state.selected_group_id?s.a.createElement(P,{set_groups_state:this.set_groups_state,update_groups:this.get_groups,selected_group_name:this.state.selected_group_name,selected_group_id:this.state.selected_group_id}):""),s.a.createElement("div",{className:"col-md-3 groups-container"},s.a.createElement("div",{className:"groups-list"},s.a.createElement("div",{className:"text-muted p-3 font-weight-bold"},"Total groups: ",this.state.groups.length),a,t))))}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).axios=Object(O.b)(),a.state={},a.update_toolbar=function(){a.axios.get("api/get_news_categories_count/").then(function(e){console.log(e.data),a.setState(Object(h.a)({},a.state,e.data))})},a.componentDidMount=Object(w.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.update_toolbar();case 1:case"end":return e.stop()}},e,this)})),a.componentWillReceiveProps=function(){return a.update_toolbar()},a.newNewsHandler=function(e){e.preventDefault(),a.axios.post("api/news/",{title:"new news",brief:"body goes here"}).then(function(e){console.log(e.data),a.props.history.push("/admin/news/edit_news/".concat(e.data.id,"/"))})},a.change_news_category_handler=function(){var e=Object(w.a)(y.a.mark(function e(t,n){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.props.change_news_state({selected_category:n,page:1});case 3:a.props.get_news();case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t="tab d-flex justify-content-between align-items-center btn ",a=function(t){return e.props.selected_category===t?"active-tab":""};return s.a.createElement("div",{className:"news-toolbar"},s.a.createElement("div",{className:"text-right my-3"},s.a.createElement("button",{className:"btn btn-success",onClick:this.newNewsHandler},"Create news")),s.a.createElement("div",{onClick:function(t){return e.change_news_category_handler(t,-1)},className:t+a(-1)},s.a.createElement("span",{className:"font-weight-bold mx-2"},"All"),s.a.createElement("span",{className:"badge badge-pill badge-primary"},this.state.total)),s.a.createElement("div",{onClick:function(t){return e.change_news_category_handler(t,0)},className:t+a(0)},s.a.createElement("span",{className:"font-weight-bold mx-2"},"Displayed"),s.a.createElement("span",{className:"badge badge-pill badge-danger"},this.state.displayed)),s.a.createElement("div",{onClick:function(t){return e.change_news_category_handler(t,1)},className:t+a(1)},s.a.createElement("span",{className:"font-weight-bold mx-2"},"Archieved"),s.a.createElement("span",{className:"badge badge-pill badge-warning"},this.state.archieved)))}}]),t}(n.Component),Z=Object(f.a)(V),J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).axios=Object(O.b)(),a.state={results:[],page:1,selected_category:-1},a.componentDidMount=function(){a.get_news()},a.get_news=function(){var e="api/news/?page=".concat(a.state.page,"&show=");-1!==a.state.selected_category&&(e+=0===a.state.selected_category?1:0),a.axios.get(e).then(function(e){e=e.data,console.log(e),a.setState(Object(h.a)({},a.state,e,{toolbar_render:!a.state.toolbar_render}))})},a.flagNewsHandler=function(e,t){e.preventDefault(),!a.state.results.length&&a.state.page>1&&a.setState(Object(h.a)({},a.state,{page:a.state.page-1})),a.axios.patch("api/news/".concat(t,"/"),{flag:!0,show:!1}).then(function(e){console.log(e.data),a.get_news()})},a.archieve_it_Handler=function(e,t){e.preventDefault(),a.axios.patch("api/news/".concat(t,"/"),{show:!1}).then(function(e){a.get_news()})},a.display_it_Handler=function(e,t){e.preventDefault(),a.axios.patch("api/news/".concat(t,"/"),{show:!0}).then(function(e){a.get_news()})},a.send2EditHandler=function(e,t){e.preventDefault(),a.props.history.push("/admin/news/edit_news/".concat(t,"/"))},a.change_page=function(e,t){var n;e.preventDefault();var s=a.state.page;if(t)n=a.state.next,s+=1;else{if(t)return;n=a.state.previous,s-=1}a.axios.get(n).then(function(e){console.log(e),a.setState(Object(h.a)({},a.state,e.data,{page:s}))})},a.change_news_state=function(e){a.setState(Object(h.a)({},a.state,e))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=function(t,a){return t.show?function(t,a){return s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("button",{onClick:function(a){return e.send2EditHandler(a,t.id)},className:"btn nbtn mx-1 blue"},s.a.createElement("i",{className:"fas fa-pen-alt"})),s.a.createElement("button",{onClick:function(a){return e.archieve_it_Handler(a,t.id)},className:"btn nbtn mx-1 red"},s.a.createElement("i",{className:"fas fa-times"})))}(t):function(t,a){return s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("button",{onClick:function(a){return e.send2EditHandler(a,t.id)},className:"btn nbtn mx-1 blue"},s.a.createElement("i",{className:"fas fa-pen-alt"})),s.a.createElement("button",{onClick:function(a){return e.display_it_Handler(a,t.id)},className:"btn nbtn mx-1 blue"},s.a.createElement("i",{className:"fas fa-check"})))}(t)},a=this.state.results;a=a.map(function(e,a){return function(e,a){return s.a.createElement("div",{className:"d-flex flex-wrap tab align-items-center justify-content-between news",key:e.id},s.a.createElement("div",{className:"d-flex ml-auto flex-wrap align-items-center mx-2 flex-grow-1"},s.a.createElement("div",{className:e.show?"text-success":"text-danger"},s.a.createElement("i",{className:"fa fa-circle"})),s.a.createElement("div",{className:"srno mx-2 font-weight-bold"},a+1),s.a.createElement("div",{className:"subject mx-2 flex-grow-1"},e.title),s.a.createElement("div",{className:"date mx-2 text-muted"},"(",e.created_on.slice(0,10),")")),s.a.createElement("div",null,t(e)))}(e,a)});var n=["Total","Displayed","Archieved"][this.state.selected_category+1],r=s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("div",{className:"font-weight-bold p-3"},n,": ",this.state.count),s.a.createElement("div",{className:"sub-pagination pagination"},s.a.createElement("span",{className:"mx-1"},"Page ",this.state.page),s.a.createElement("button",{disabled:!this.state.previous,onClick:function(t){return e.change_page(t,0)},className:"btn nbtn blue mx-1"},s.a.createElement("i",{className:"fa fa-angle-left"})),s.a.createElement("button",{disabled:!this.state.next,onClick:function(t){return e.change_page(t,1)},className:"btn nbtn blue mx-1"},s.a.createElement("i",{className:"fa fa-angle-right"}))));return s.a.createElement("div",{className:"newss"},s.a.createElement("div",{className:"pt-3 row"},s.a.createElement("div",{className:"col-md-9"},r,a,this.state.results.length>10?r:""),s.a.createElement("div",{className:"col-md-3"},s.a.createElement(Z,{toolbar_render:this.state.toolbar_render,get_news:this.get_news,change_news_state:this.change_news_state,selected_category:this.state.selected_category}))))}}]),t}(n.Component),X=s.a.lazy(function(){return a.e(1).then(a.bind(null,505))}),G=s.a.lazy(function(){return Promise.all([a.e(3),a.e(2)]).then(a.bind(null,502))}),K=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"admin"},s.a.createElement(_,null),s.a.createElement(d.a,null,s.a.createElement(p.a,{path:"/admin/group/:id/",component:P}),s.a.createElement(p.a,{path:"/admin/group/",component:z}),s.a.createElement(p.a,{path:"/admin/email/sent_email/:id/",component:T}),s.a.createElement(p.a,{path:"/admin/email/send_email/:id/",component:W}),s.a.createElement(p.a,{path:"/admin/email/edit_email/:id/",component:I}),s.a.createElement(p.a,{path:"/admin/email/",component:S}),s.a.createElement(p.a,{path:"/admin/news/edit_news/:id/",component:X}),s.a.createElement(p.a,{path:"/admin/news",component:J}),s.a.createElement(p.a,{path:"/admin/settings/",component:B}),s.a.createElement(p.a,{path:"/admin/signout/",component:N}),s.a.createElement(p.a,{path:"/admin/",component:G})))}}]),t}(n.Component),Q=a(344),$=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"big_menubar d-none d-md-flex align-items-center justify-content-between"},s.a.createElement(Q.a,{to:"/"},s.a.createElement("div",{className:"brand d-flex align-items-center"},s.a.createElement("div",{className:"brand_logo mx-3"},s.a.createElement("img",{src:a(222),alt:""})),s.a.createElement("div",{className:"brand_name"},"Brandname"))),s.a.createElement(d.a,null,s.a.createElement(p.a,{path:"/:page/",component:function(){return s.a.createElement("div",{className:"links d-flex"},s.a.createElement("div",{className:"link mr-3"},s.a.createElement(Q.a,{to:"/about/",className:"active"},"About Us")),s.a.createElement("div",{className:"link mr-3"},s.a.createElement(Q.a,{to:"/services/"},"Services")),s.a.createElement("div",{className:"link mr-3"},s.a.createElement(Q.a,{to:"/clients/"},"Our Clients")),s.a.createElement("div",{className:"link mr-3"},s.a.createElement(Q.a,{to:"/newsfeed/"},"Newfeed")),s.a.createElement("div",{className:"link mr-3"},s.a.createElement(Q.a,{to:"/subscribe/"},"Subscribe")),s.a.createElement("div",{className:"link mr-3"},s.a.createElement(Q.a,{to:"/contactus/"},"Contact Us")))}}),s.a.createElement(p.a,{path:"/",component:function(){return s.a.createElement("div",{className:"links d-flex"},s.a.createElement("div",{className:"link mr-3"},s.a.createElement(Q.a,{to:"/getStarted/",className:"active get-started"},"Get Started")),s.a.createElement("div",{className:"link mr-3"},s.a.createElement(Q.a,{to:"/newsfeed/",className:""},"Newfeed")))}}))))}}]),t}(n.Component),Y=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=s.a.createElement("div",null,s.a.createElement("div",{className:"px-5 pb-5 ml-5 catch-phrase display-3"},"A catch phrase for the company goes here"),s.a.createElement("div",{className:"px-5 pb-5 ml-5 text-secondary brief "},"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Numquam nostrum libero animi sunt minus, voluptas delectus beatae atque impedit consectetur"),s.a.createElement("div",{className:"home-link text-center mb-5"},s.a.createElement(Q.a,{to:"/home/"},"Continue")));return s.a.createElement("div",{className:"get-started row mx-0 align-items-center"},s.a.createElement("div",{className:"col-md-6"},e),s.a.createElement("div",{className:"col-md-6 cover-img"},e))}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).changeTabHandler=function(e){e.preventDefault(),console.log(e.target.innerHTML)},a.componentDidMount=function(){var e=document.querySelectorAll(".main .tabs div"),t=document.querySelectorAll(".main .content div");e.forEach(function(a,n){a.addEventListener("click",function(a){t.forEach(function(e){return e.style.display="none"}),e.forEach(function(e){return e.classList.remove("active")}),t[n].style.display="block",e[n].classList.add("active")})})},a.text=s.a.createElement("div",null,s.a.createElement("div",{className:"tabs d-flex mt-5 mx-5"},s.a.createElement("div",{className:"active"},"Mission"),s.a.createElement("div",null,"Who we are"),s.a.createElement("div",null,"Our History")),s.a.createElement("div",{className:"m-5 content"},s.a.createElement("div",null,"Mission Lorem ipsum dolor sit amet consectetur adipisicing elit. Ratione ex id quam optio iste ipsum necessitatibus reprehenderit officiis esse quia aliquid exercitationem iusto laboriosam, accusantium delectus culpa mollitia. Alias, saepe quos voluptatem magnam necessitatibus nobis odio labore enim ad cumque iusto, cum at sint. Animi quae maiores corrupti ipsum quam."),s.a.createElement("div",null,"who we are"),s.a.createElement("div",null,"history"))),a.state={currTab:"Mission"},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"about row mx-0"},s.a.createElement("div",{className:"main col-md-6"},this.text),s.a.createElement("div",{className:"col-md-6 about-img"},this.text))}}]),t}(n.Component),te=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"clients")}}]),t}(n.Component),ae=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"contact")}}]),t}(n.Component),ne=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"footer")}}]),t}(n.Component),se=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"news")}}]),t}(n.Component),re=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"services")}}]),t}(n.Component),ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).axios=Object(O.b)(),a.state={saved:!1,verified:!1},a.componentDidMount=function(){a.subscribe=document.querySelector("#subscribe")},a.SubscribeHandler=function(e){e.preventDefault();var t=a.subscribe.querySelector("#subName"),n=a.subscribe.querySelector("#subMobile"),s=a.subscribe.querySelector("#subEmail"),r={name:t.value,mobile:n.value,email:s.value};a.axios.post("api/subscriber/",r).then(function(e){var t=e.data;console.log(t),t.id&&(a.setState(Object(h.a)({},a.state,t,{saved:!0})),t.verified||a.sendOtpHandler())})},a.sendOtpHandler=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.preventDefault(),a.axios.post("api/sendOtp/",{id:a.state.id}).then(function(e){console.log(e.data)}).catch(function(e){console.error(e)})},a.VerifyOtpHandler=function(e){e.preventDefault();var t=a.subscribe.querySelector("#otp");a.axios.post("api/verifyOtp/",{otp:t.value,id:a.state.id}).then(function(e){console.log(e.data),a.setState(Object(h.a)({},a.state,e.data))}).catch(function(e){console.error(e)})},a.wrongMailHandler=function(e){e.preventDefault(),a.axios.delete("api/subscriber/".concat(a.state.id,"/")).then(function(e){console.log(e.data),a.setState(Object(h.a)({},a.state,{saved:!1}))}).catch(function(e){console.error(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=s.a.createElement("div",null,s.a.createElement("input",{type:"text",id:"subName",placeholder:"name"}),s.a.createElement("input",{type:"text",id:"subMobile",placeholder:"mobile"}),s.a.createElement("input",{type:"email",id:"subEmail",placeholder:"email"}),s.a.createElement("input",{type:"submit",onClick:this.SubscribeHandler})),t=s.a.createElement("div",null,this.state.email,this.state.verified?"verification success":"not yet verified ",s.a.createElement("input",{type:"text",placeholder:"otp",id:"otp"}),s.a.createElement("input",{type:"submit",onClick:this.VerifyOtpHandler}),s.a.createElement("button",{className:"btn btn-sm btn-outline-primary",onClick:this.sendOtpHandler},"resend otp"),s.a.createElement("button",{className:"btn btn-sm btn-outline-danger",onClick:this.wrongMailHandler},"wrong email?"));return s.a.createElement("form",{id:"subscribe",className:"my-5"},this.state.saved?t:e)}}]),t}(n.Component),le=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"index"},s.a.createElement(ee,null),s.a.createElement(se,null),s.a.createElement(re,null),s.a.createElement(te,null),s.a.createElement(ce,null),s.a.createElement(ae,null),s.a.createElement(ne,null))}}]),t}(n.Component),oe=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"index"},s.a.createElement($,null),s.a.createElement(d.a,null,s.a.createElement(p.a,{path:"/home/",component:le}),s.a.createElement(p.a,{path:"/",component:Y})))}}]),t}(n.Component),ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).axios=Object(O.b)(),a.componentDidMount=function(){var e=document.querySelector(".login");a.username=e.querySelector(".username"),a.password=e.querySelector(".password")},a.login_handler=function(e){e.preventDefault(),a.axios.post("login/",{username:a.username.value,password:a.password.value}).then(function(e){sessionStorage.setItem("token","Token ".concat(e.data.token)),a.props.history.push("/admin/dashboard/"),console.log("hello")})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"login d-flex justify-content-center align-items-center"},s.a.createElement("form",{className:"p-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-weight-bold"},"Username:"),s.a.createElement("input",{type:"text",className:"username text-center form-control"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-weight-bold"},"Password:"),s.a.createElement("input",{type:"password",className:"password text-center form-control"})),s.a.createElement("div",{className:"text-center"},s.a.createElement("button",{onClick:this.login_handler,className:"btn btn-primary"},"Login"))))}}]),t}(n.Component),me=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"app"},s.a.createElement(d.a,null,s.a.createElement(g,{path:"/admin",component:K}),s.a.createElement(p.a,{path:"/user_login/",component:ie}),s.a.createElement(p.a,{path:"/",component:oe})),s.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.6.3/css/all.css",integrity:"sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/",crossOrigin:"anonymous"}))}}]),t}(n.Component),ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function de(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var pe=a(501);c.a.render(s.a.createElement(pe.a,null,s.a.createElement(me,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");ue?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):de(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):de(t,e)})}}()},97:function(e,t,a){e.exports=a(223)}},[[97,5,4]]]);
//# sourceMappingURL=main.b2a09833.chunk.js.map